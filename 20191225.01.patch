Index: public/favicon.ico
===================================================================
Cannot display: file marked as a binary type.
svn:mime-type = application/octet-stream
Index: src/assets/css/common.css
===================================================================
--- src/assets/css/common.css	(revision 38454)
+++ src/assets/css/common.css	(working copy)
@@ -7,50 +7,3 @@
 body{
   font-family:"Helvetica Neue",Helvetica,Arial,"PingFang SC","Hiragino Sans GB","Heiti SC","Microsoft YaHei","WenQuanYi Micro Hei",sans-serif;
 }
-input[type='text']{
-  outline: none;
-}
-::-webkit-scrollbar {  /* 滚动条整体部分 */
-  width:6px;
-  margin-right:2px
-}
-::-webkit-scrollbar-button { /* 滚动条两端的按钮 */
-  width:6px;
-  background-color: transparent;
-}
-::-webkit-scrollbar:horizontal {
-  height:6px;
-  margin-bottom:2px
-}
-::-webkit-scrollbar-track {  /* 外层轨道 */
-  border-radius: 10px;
-}
-::-webkit-scrollbar-track-piece {  /*内层轨道，滚动条中间部分 */
-  background-color: #eee;
-  border-radius: 10px;
-}
-::-webkit-scrollbar-thumb {  /* 滑块 */
-  width:10px;
-  border-radius: 5px;
-  background: #ddd;
-}
-::-webkit-scrollbar-corner { /* 边角 */
-  width: 10px;
-  background-color: #ccc;
-}
-::-webkit-scrollbar-thumb:hover { /* 鼠标移入滑块 */
-  background: #ccc;
-}
-.isHide{
-  display: none;
-}
-.right{float: right}
-
-/*elementUI*/
-/*设置表单输入框 宽度*/
-.el-form .limit-with.el-input,
-.el-form .limit-with.el-select,
-.el-form .limit-with.el-date-editor,
-.el-form .limit-with.el-textarea__inner{max-width: 260px;}
-/*详情右上角编辑图标*/
-.el-icon-edit{font-size: 26px}
Index: src/components/Footer.vue
===================================================================
--- src/components/Footer.vue	(revision 38454)
+++ src/components/Footer.vue	(working copy)
@@ -4,20 +4,13 @@
       <span
         @click="clickItem(item.name)"
         v-for="item in dataList"
-        :key="item.id">
-        {{item.title}}
-      </span>
+        :key="item.id"
+        v-text="item.title"></span>
     </div>
-    <div class="copyright">
-      <div class="item-list">
-        <router-link
-          v-for="item in copyrightData"
-          :key="item.id"
-          :to="item.src">
-          {{item.title}}
-        </router-link>
-      </div>
+    <div class="info">
+      <span v-for="item in info">{{item}}</span>
     </div>
+    <div class="item">{{copyright}}</div>
   </div>
 </template>
 
@@ -33,14 +26,13 @@
         {id: 4, title: "纠纷处理制度", name: "rulesData"},
         {id: 5, title: "投诉指引", name: "complaintData"}
       ],
-      copyrightData: [
-        {id: 1, title: "京ICP备11017824号-4", src: ""},
-        {id: 2, title: "京ICP证130164号", src: ""},
-        {id: 3, title: "京公网安备11010502000501号", src: ""},
-        {id: 4, title: "广播电视节目制作经营许可证（京）字第06990号", src: ""},
-        {id: 5, title: "联系电话：010-65288428", src: ""},
-        {id: 6, title: "Copyright © 2006-2019 ZCOOL极客动漫网", src: ""},
-      ]
+      info: [
+        "北京极客梦想科技有限公司",
+        "北京市朝阳区王四营官庄大队唐家坟村11栋2层1123",
+        "联系电话：010-65288428",
+        "京ICP备 20190001212 号",
+      ],
+      copyright: 'Copyright 2019 Jkdmwh.com. All Rights Reserved'
     }
   },
   methods: {
@@ -60,9 +52,8 @@
   &:hover
     color: #999
 
-
 .content
-  height: 100px
+  height: 160px
   margin: 0 auto
   width: 100%
   background: #282828
@@ -71,6 +62,7 @@
 
 .link
   line-height: 40px
+  padding-top: 40px
   span
     margin: 0 4px
     &:hover
@@ -80,4 +72,15 @@
 .item-list
   line-height: 20px
 
+.info
+  line-height: 32px
+  span
+    margin-left: 10px
+    &:hover
+      cursor: pointer
+      color: #666
+
+.item
+  line-height: 32px
+
 </style>
Index: src/components/Header.vue
===================================================================
--- src/components/Header.vue	(revision 38454)
+++ src/components/Header.vue	(working copy)
@@ -101,13 +101,16 @@
 
 .el-header
   box-shadow: 0 0px 6px rgba(0,0,0,0.4);
+  width: 100%
 
+.el-dropdown-link
+  line-height: 60px
 
 .header_wrap
   display: flex
   justify-content: space-between
   align-items: center
-  padding: 0 20px
+  padding: 0 100px
   .sys_title
     .title
       font-size: 18px
Index: src/components/Page.vue
===================================================================
--- src/components/Page.vue	(revision 38454)
+++ src/components/Page.vue	(working copy)
@@ -26,7 +26,7 @@
     },
     data(){
       return {
-        sizes:[10, 20, 30, 50, 80, 100]
+        sizes:[2, 4, 10, 20, 50, 100]
       }
     },
     methods:{
Index: src/request/api.js
===================================================================
--- src/request/api.js	(revision 38454)
+++ src/request/api.js	(working copy)
@@ -10,7 +10,14 @@
 export const getCartoonList = (search) => fetch('/manage/cartoon' + search)
 // 动漫详情
 export const getCartoonInfo = (id) => fetch('/manage/cartoon/' + id)
-// 创建订单
-export const setIntegral = (data) => fetch('/manage/user/setIntegral' + data)
 // 获取轮播图
 export const getBannerList = () => fetch('/manage/banner')
+// 获取金币消耗记录
+export const getIntegralList = (search) => fetch('/manage/user/setIntegral' + search)
+// 获取充值记录
+export const getOrderList = (search) => fetch('/manage/order' + search)
+// 积分消耗
+export const setIntegral = (id) => fetch('/manage/user/setIntegral/' + id)
+
+
+
Index: src/router/index.js
===================================================================
--- src/router/index.js	(revision 38454)
+++ src/router/index.js	(working copy)
@@ -51,6 +51,14 @@
           title: 'Recharge'
         }
       },
+      // 详情页面
+      {
+        path: '/imgDetail/:id',
+        component: () => import('../views/imgDetail.vue'),
+        meta: {
+          title: 'imgDetail'
+        }
+      },
     ]
   },
   // 登录
Index: src/store/index.js
===================================================================
--- src/store/index.js	(revision 38454)
+++ src/store/index.js	(working copy)
@@ -10,7 +10,7 @@
     isLogin: false,
     userid: '',
     username: '',
-    menu:'',
+    menu:'/home',
     integral: '',
     aboutusItem: ''
   },
Index: src/utils/tool.js
===================================================================
--- src/utils/tool.js	(revision 38454)
+++ src/utils/tool.js	(working copy)
@@ -1,5 +1,5 @@
 export function downFlie(fileName,url) {
-    var downloadElement = document.createElement('a');
+    let downloadElement = document.createElement('a');
     let arr = url.split('.')
     let name = arr[arr.length - 1];
     downloadElement.style.display = 'none';
@@ -9,6 +9,31 @@
     downloadElement.target = "_blank";
     downloadElement.click(); //点击下载
     document.body.removeChild(downloadElement); //下载完成移除元素
+
+
+
+
+
+    // let canvas = document.createElement("canvas");   //创建canvas DOM元素
+    // let ctx = canvas.getContext("2d");
+    // let img = new Image;
+    // img.crossOrigin = 'Anonymous'; // 支持跨域
+    // img.src = url;
+    // img.onload = function () {
+    //     canvas.height = img.height; //指定画板的高度,自定义
+    //     canvas.width = img.width; //指定画板的宽度，自定义
+    //     ctx.drawImage(img, 0,0); //参数可自定义
+    //     let dataURL = canvas.toDataURL("image/" + ext);    // 传递的自定义的参数
+    //     callback.call(this, dataURL); //回掉函数获取Base64编码
+    //     canvas = null;
+    // };
+    // let path = 'https://static-xesapi.speiyou.cn/1561014844679.jpg'
+    // let all = document.querySelector('a')
+    // getUrlBase64(path,function (base64) {
+    //     all.setAttribute('href',base64)
+    // }
+
+
 }
 
 
Index: src/views/Home.vue
===================================================================
--- src/views/Home.vue	(revision 38454)
+++ src/views/Home.vue	(working copy)
@@ -2,38 +2,38 @@
   <div class="content">
     <el-carousel
       indicator-position="outside"
-      arrow="always"
       height="300px">
       <el-carousel-item v-for="item in bannerList" :key="item.id">
-        <el-image :src="item.picture" :alt="item.title"></el-image>
+        <img :src="item.picture" :alt="item.title"></img>
       </el-carousel-item>
     </el-carousel>
     <div class="wrapper">
       <h3 class="hotImg">热门图片</h3>
-      <el-card class="box-card" v-for="item in dataList" :key="item.id">
-       <div slot="header" class="clearfix">
-         <span>{{item.content}}</span> | 
-         <span>{{item.title}}</span>
-         <span></span>
-         <div class="right">
+      <div class="box-card" v-for="item in dataList" :key="item.id">
+       <div slot="header" class="titleWrap">
+         <span class="title">{{item.title}}</span>
+         <!-- <span class="subtitle">{{item.content}}</span>  -->
+         <!-- <span></span> -->
+<!--          <div class="right">
            <span>{{item.cartoon_info.length}}个表情</span>
-         </div>
+         </div> -->
        </div>
-       <div v-for="child in item.cartoon_info" :key="child.id" class="text item">
-        <el-image :src="child.picture" :alt="item.title"></el-image>
-          <div class="bottom clearfix">
-            <p class="title">{{child.title}}</p>
-            <el-button class="downLoad" @click="downLoadImg(child)" type="text">下载</el-button>
-          </div>
+       <div class="imgItems">
+         <el-card shadow="hover" v-for="child in item.cartoon_info" :key="child.id" class="imgItem">
+            <img :src="child.picture" :alt="child.title" lazy @click="goToDetail(item.id, child)" class="img">
+            </img>
+            <div class="bottom clearfix">
+              <span :class="child.purchase ?'isDownLoad' : ''"><strong>{{child.price}}</strong> 金币</span>
+              <el-button class="downLoad" @click="downLoadImg(child)" type="text">{{child.downLoadText}}</el-button>
+            </div>
+          </el-card>
        </div>
-     </el-card>
+     </div>
     </div>
-    <v-page :pageInfo="pageInfo" @changePage="changePage"></v-page>
   </div>
 </template>
 
 <script>
-import vPage from "../components/Page.vue";
 import { downFlie } from "../utils/tool.js";
 import { getCartoonList, setIntegral, getBannerList } from "../request/api.js";
 export default {
@@ -42,12 +42,12 @@
     return {
       isLogin: false,
       integral: 0,
-      pageInfo:{page: 1, limit: 10, count: 0},
       dataList: [],
       bannerList: []
     }
   },
   mounted() {
+    this.$store.commit("menuPath", '/home');
     this.userInfo();
     this.getBannerList();
     this.getDataList();
@@ -56,15 +56,27 @@
     userInfo() {
       this.isLogin = this.$store.state.isLogin
       this.integral = this.$store.state.integral
+      console.log("this.$store.state:", this.$store.state);
     },
     // 获取动漫列表
     getDataList() {
-      let search = `?p=${this.pageInfo.page}&limit=${this.pageInfo.limit}&ishot=1`;
+      let isindex = 1; // 1 表示首页 默认为 0
+      let ishot = 1;
+      let search = `?ishot=${ishot}&isindex=${isindex}`;
       getCartoonList(search).then(res=>{
         if(res.code == 1) {
           console.log("res:", res);
           this.dataList = res.data;
-          this.pageInfo.count = res.count;
+          this.dataList.forEach(item => {
+            item.cartoon_info.forEach(idx => {
+              // idx.picture = 'http://192.168.20.132:8101/'+idx.picture
+              if (idx.purchase) {
+                idx.downLoadText = '已下载'
+              } else {
+                idx.downLoadText = '下载'
+              }
+            })
+          })
         }
       }).catch(err => {
         this.$message({message: err.message, type: "error", showClose: true});
@@ -75,6 +87,9 @@
         if(res.code == 1) {
           console.log("res:", res);
           this.bannerList = res.data;
+          // this.bannerList.forEach(item => {
+          //   item.picture = 'http://192.168.20.132:8101/' + item.picture
+          // })
         }
       }).catch(err => {
         this.$message({message: err.message, type: "error", showClose: true});
@@ -82,49 +97,54 @@
     },
     // 下载图片
     downLoadImg(img) {
-      // 先判断是否登录 -> 是否有积分 
-      // 1. 如果尚未注册跳转到注册页面 
-      // 2. 如果注册但是账号里面没有积分，跳转到人民币兑换积分的界面
-      // 3. 如果注册登录且有积分进行下载
-      console.log("img:",img);
-      if (this.beforeDownLoad()) {
-        // 下载并扣除积分
-        if (this.integral < img.weight) {
-          this.$message({ showClose: true, message: "你的账户积分不足,正跳转至充值页面", duration:2000, type: 'warning', onClose: () => {
-            this.$router.push('/recharge');
-          }});
-          return;
-        }
-        this.integral -= img.weight;
-        this.setIntegral(img.weight);
-        this.$store.commit('changeIntegral', this.integral);
-        console.log("this.integral:",this.integral);
-        downFlie(img.title, img.picture);
-      }
-    },
-    changePage:function(pageInfo) {
-      this.pageInfo = pageInfo;
-      this.getDataList();
-    },
-    // 点击现在图片之前进行判断
-    beforeDownLoad() {
-      let flog = false;
+      // 先判断是否登录 -> 是否有金币 
+      // 1. 如果尚未注册跳转到注册页面 再 判断是否下载过
+      // 2. 如果注册但是账号里面没有金币，跳转到人民币兑换金币的界面
+      // 3. 如果注册登录且有金币进行下载
       if (!this.isLogin) {
         this.$message({ showClose: true, message: "你还未登录,正跳转至登录页面", duration:2000, type: 'warning', onClose: () => {
           this.$router.push('/login')
         }});
-      } else if(this.integral*100 <= 0){
-        this.$message({ showClose: true, message: "你的账户暂无积分,正跳转至充值页面", duration:2000, type: 'warning', onClose: () => {
+      } else if(img.purchase) {
+        downFlie(img.title, img.picture);
+      } else if(this.integral*100 <= 0  && !img.purchase) {
+        this.$message({ showClose: true, message: "你的账户暂无金币,正跳转至充值页面", duration:2000, type: 'warning', onClose: () => {
           this.$router.push('/recharge')
         }});
       } else {
-        flog = true
+        this.buyInfo(img);
       }
-      return flog;
     },
-    setIntegral(info) {
-      let data = `?integral=${info}`;
-      setIntegral(data).then(res=>{
+    buyInfo(img) {
+      this.$confirm(`购买此图片需花费${img.price}金币`, '购买提示', {
+        confirmButtonText: '确定',
+        cancelButtonText: '取消'
+      }).then(() => {
+        // 下载并扣除金币
+        if (this.integral < img.price) {
+          this.$message({ showClose: true, message: "你的账户金币不足,正跳转至充值页面", duration:2000, type: 'warning', onClose: () => {
+            this.$router.push('/recharge');
+          }});
+          return;
+        }
+        this.integral -= img.price;
+        this.setIntegral(img.id);
+        console.log("img:", img);
+        this.$store.commit('changeIntegral', this.integral);
+        console.log("this.integral:",this.integral);
+        downFlie(img.title, img.picture);
+        this.getDataList();
+      }).catch(() => {
+        this.$message({
+          type: 'info',
+          message: '已取消购买',
+          duration:2000,
+          showClose: true
+        });
+      });
+    },
+    setIntegral(id) {
+      setIntegral(id).then(res=>{
         if(res.code == 1) {
           this.$message({ showClose: true, message: "下载成功", duration:2000, type: 'success'});
         }
@@ -131,10 +151,11 @@
       }).catch(err => {
         this.$message({message: err.message, type: "error", showClose: true});
       })
+    },
+    goToDetail(item, info) {
+      let id =  `${item}?cartoon_info_id=${info.id}`
+      this.$router.push('/imgDetail/'+id)
     }
-  },
-  components: {
-    vPage
   }
 };
 </script>
@@ -150,65 +171,72 @@
 }
 
 .content
-  margin: 20px 0 40px 0
+  padding: 20px 0 40px 0
   min-height: 900px
+  background: #eee
 
 .el-carousel__item
   background: #fefefe
   box-shadow: 0 2px 4px rgba(0,0,0,.2)
 
+.box-card
+  margin: 40px 20px
+  display: flex;
+  flex-direction: column;
+  justify-content: center;
+  align-items: center;
 
-.el-carousel__container .el-image
+.el-carousel__container img
   height: 300px
 
-.wrapper >>>
-  display: flex
-  justify-content: center
-  flex-direction: column
-  align-items: center
-  .el-card.is-always-shadow
-    width: 800px
-    margin-bottom: 10px
-    padding: 0
-    &:hover
-      cursor: pointer
-      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5)
-    .el-card__body
-      display: flex
-      flex-wrap: wrap
-      justify-content: space-between
+.imgItems
+  display: flex;
+  flex-wrap: wrap;
 
-.wrapper .el-image
-  width: 145px
-  height: 145px
-  padding: 10px
-  border-radius: 2px
-  &:hover
-    box-shadow: 0 2px 4px rgba(0,0,0,0.5)
+.el-card
+  margin: 4px
 
+.titleWrap
+  margin-bottom: 10px;
+  .title
+    font-weight: 800
+    font-size: 20px
+
+.el-card >>> .el-card__body
+  padding: 18px;
+  width: 190px;
+  // height: 200px;
+  box-sizing: border-box;
+
+.img
+  height: 140px;
+  border-radius: 2px;
+  cursor: pointer;
+  margin: 0 -100%;
+
 .right
-  font-size: 14px
-  color: #666
-  display: flex
-  align-items: center
+  margin: 10px 0;
+  line-height: 40px;
+  height: 40px;
   span
-    margin-right: 10px
-  .downLoad
-    padding: 3px 0
+    display: block;
+    margin: 0 auto;
 
+.downLoad
+  margin-left: 10px;
+
 .hotImg
-  margin: 20px 0 10px 0
-  font-size: 20px
+  padding: 30px 0 20px 0
+  font-size: 22px
+  border-bottom: 1px solid #eee
 
 .bottom
   display: flex
   align-items: center
-  .title
-    font-size: 13px
-    color: #999
-    width: 124px
-    white-space: nowrap
-    text-overflow: ellipsis
-    overflow: hidden
+  justify-content: space-around
 
+.isDownLoad
+  text-decoration: line-through;
+  color: #aaa;
+
 </style>
Index: src/views/Index.vue
===================================================================
--- src/views/Index.vue	(revision 38454)
+++ src/views/Index.vue	(working copy)
@@ -19,3 +19,8 @@
   }
 };
 </script>
+
+<style lang="stylus" scoped>
+.content
+  overflow: hidden
+</style>
Index: src/views/Login.vue
===================================================================
--- src/views/Login.vue	(revision 38454)
+++ src/views/Login.vue	(working copy)
@@ -101,7 +101,6 @@
           login(user).then(res=>{
             console.log("res:", res);
             if (res.code === 1) {
-              this.$message({message: "恭喜你，登录成功", type: "success",showClose: true});
               const onLine = (res.code === 1) ? true : false;
               console.log(onLine)
               this.$store.commit("login",
@@ -108,16 +107,20 @@
                 {
                   userid: res.data.id,
                   username: res.data.email,
-                  integral: res.data.integral, // 积分
+                  integral: res.data.integral, // 金币
                   onLine: onLine
                 })
-              this.$router.push("/");
+              this.$message({message: "恭喜你，登录成功", type: "success",showClose: true, onClose: () => {
+                this.$router.push("/");
+              }});
             }
           }).catch(err => {
             this.$message.error(err.message);
+            this.changeCodeImg();
           })
         } else {
           this.$message({message: "请输入正确的信息", type: "error", showClose: true});
+          this.changeCodeImg();
         }
       });
     },
Index: src/views/Register.vue
===================================================================
--- src/views/Register.vue	(revision 38454)
+++ src/views/Register.vue	(working copy)
@@ -18,6 +18,15 @@
             clearable>
           </el-input>
         </el-form-item>
+        <el-form-item prop="name">
+          <el-input
+            v-model.trim="registerInfo.name"
+            auto-complete="off"
+            prefix-icon="el-icon-user"
+            placeholder="姓名"
+            clearable>
+          </el-input>
+        </el-form-item>
         <el-form-item prop="idNumber">
           <el-input
             v-model.trim="registerInfo.idNumber"
@@ -135,6 +144,7 @@
         email: [{ required: true, validator: checkEmail, trigger: 'blur' }],
         idNumber: [{ required: true, validator: checkIdNumber, trigger: 'blur' }],
         pass: [{ required: true, validator: validatePass, trigger: 'blur' }],
+        name: [{ required: true, message: '请输入姓名', trigger: 'blur' }],
         checkPass: [{ required: true, validator: validatePass2, trigger: 'blur' }]
       }
     }
@@ -151,6 +161,7 @@
           let user = {}
           user.email = this.registerInfo.email
           user.pwd = this.registerInfo.pass
+          user.name = this.registerInfo.name
           user.again_pwd = this.registerInfo.checkPass
           user.card = this.registerInfo.idNumber
           console.log("user:", user);
@@ -157,7 +168,7 @@
           register(user).then(res=>{
             console.log("res:", res)
             if(res.code == 1) {
-              this.$message({message: "喜你，注册成功，正跳转至登录页面", type: "success", showClose: true, onClose: () => {
+              this.$message({message: "恭喜你，注册成功，正跳转至登录页面", type: "success", showClose: true, onClose: () => {
                 this.$router.push('/login')
               }});
             }
@@ -179,7 +190,6 @@
   text-decoration: none
   color: #3ea9c1
 
-
 .content
   width: 100%
   height: 100%
@@ -208,5 +218,4 @@
   .span
     float: left
 
-
 </style>
Index: src/views/UserCenter.vue
===================================================================
--- src/views/UserCenter.vue	(revision 38454)
+++ src/views/UserCenter.vue	(working copy)
@@ -4,31 +4,49 @@
       <div slot="header">
         <span>个人中心</span>
       </div>
-      <div class="item-list">
-        <div class="item">
-          <div class="item-title">注册邮箱：</div>
-          <div class="item-info">{{info.email}}</div>
-        </div>
-        <div class="item">
-          <div class="item-title">积分：</div>
-          <div class="item-info">{{info.integral}}</div>
-        </div>
-        <div class="item">
-          <div class="item-title">身份证：</div>
-          <div class="item-info">{{info.card}}</div>
-        </div>
-      </div>
+      <el-tabs v-model="activeName">
+        <el-tab-pane label="基本信息" name="first">
+          <div class="item">
+            <div class="item-title">姓名：</div>
+            <div class="item-info">{{info.name}}</div>
+          </div>
+          <div class="item">
+            <div class="item-title">注册邮箱：</div>
+            <div class="item-info">{{info.email}}</div>
+          </div>
+          <div class="item">
+            <div class="item-title">金币：</div>
+            <div class="item-info">{{info.integral}}</div>
+            <router-link to="/recharge">
+              <el-button class="gopay" type="text">金币不足? 去充值</el-button>
+            </router-link>
+          </div>
+          <div class="item">
+            <div class="item-title">身份证：</div>
+            <div class="item-info">{{info.card}}</div>
+          </div>
+        </el-tab-pane>
+        <el-tab-pane label="充值记录" name="second">
+          <PayList></PayList>
+        </el-tab-pane>
+        <el-tab-pane label="购买记录" name="third">
+          <OrderList></OrderList>
+        </el-tab-pane>
+      </el-tabs>
     </el-card>
   </div>
 </template>
 
 <script>
+import PayList  from './payList.vue'
+import OrderList  from './orderList.vue'
 import { getUserInfo } from "../request/api.js";
 export default {
   name: "UserCenter",
   data() {
     return {
-      info: {}
+      activeName: 'first',
+      info: {},
     }
   },
   mounted() {
@@ -44,7 +62,11 @@
       }).catch(err => {
         this.$message({ showClose: true,message: err.message,duration:2000,type: "error"})
       });
-    }
+    },
+  },
+  components: {
+    PayList,
+    OrderList
   }
 };
 </script>
@@ -54,9 +76,11 @@
   min-height: 900px
   display: flex
   justify-content: center
-  margin: 40px 0
+  padding: 40px 0
+  background: #eee
   .el-card
-    width: 800px
+    margin: 10px 20px
+    width: 100%
     div
       span
         font-size: 20px
@@ -66,4 +90,13 @@
   margin: 20px
   font-size: 18px
   color: #444
+  line-height: 40px;
+  height: 40px;
+
+.gopay
+  margin-left: 20px
+  
+.page
+  float: left
+
 </style>
Index: src/views/aboutUs/aboutUs.vue
===================================================================
--- src/views/aboutUs/aboutUs.vue	(revision 38454)
+++ src/views/aboutUs/aboutUs.vue	(working copy)
@@ -73,7 +73,7 @@
       <el-tab-pane label="投诉指引" name="complaintData">
         <div class="complaintData-wrap" v-for="item in complaintData">
           <h1>{{item.title}}</h1>
-          <div class="item content">{{item.content}}</div>
+          <div class="item compcontent">{{item.content}}</div>
           <div class="item subtitile">{{item.subtitile}}</div>
           <div class="item subcontent">{{item.subcontent}}</div>
           <div class="item listtitle">{{item.listtitle}}</div>
@@ -118,12 +118,12 @@
         {
         title: "注册协议",
         subTitle: "1、导言",
-        subContent: "“极客动漫网”软件及相关服务，系指北京极客梦想科技有限公司及其关联公司（以下简称“公司”）通过合法拥有并运营的、标注名称为“极客动漫网”的客户端应用程序及anzhuoshangdian.com网站，向你提供的产品与服务，包括但不限于信息平台展示个性化信息等功能，以及连接人与信息的新型服务。《极客动漫网用户协议》（以下简称“本协议”）是你与公司之间就你注册、登录、使用（以下统称“使用”）“极客动漫网”软件及相关服务所订立的协议。为了更好地为你提供服务，请你在开始使用“极客动漫网”软件及相关服务之前，务必认真阅读并充分理解本协议，特别是涉及免除或者限制责任的条款、权利许可和信息使用的条款、同意开通和使用特殊单项服务的条款、法律适用和争议解决条款等。其中，免除或者限制责任条款等重要内容将以加粗形式提示你注意，你应重点阅读。如你未满18周岁，请你在法定监护人陪同下仔细阅读并充分理解本协议，并征得法定监护人的同意后使用“极客动漫网”软件及相关服务。如你不同意本协议，这将导致我们无法为你提供完整的产品和服务，你也可以选择停止使用。如你自主选择同意或使用“极客动漫网”软件及相关服务，则视为你已充分理解本协议，并同意作为本协议的一方当事人接受本协议以及其他与“极客动漫网”软件及相关服务相关的协议和规则（包括但不限于《极客动漫网隐私政策》）的约束。",
+        subContent: "“极客动漫网”软件及相关服务，系指北京极客梦想科技有限公司及其关联公司（以下简称“公司”）通过合法拥有并运营的、标注名称为“极客动漫网”的客户端应用程序及jkdmwh.com网站，向你提供的产品与服务，包括但不限于信息平台展示个性化信息等功能，以及连接人与信息的新型服务。《极客动漫网用户协议》（以下简称“本协议”）是你与公司之间就你注册、登录、使用（以下统称“使用”）“极客动漫网”软件及相关服务所订立的协议。为了更好地为你提供服务，请你在开始使用“极客动漫网”软件及相关服务之前，务必认真阅读并充分理解本协议，特别是涉及免除或者限制责任的条款、权利许可和信息使用的条款、同意开通和使用特殊单项服务的条款、法律适用和争议解决条款等。其中，免除或者限制责任条款等重要内容将以加粗形式提示你注意，你应重点阅读。如你未满18周岁，请你在法定监护人陪同下仔细阅读并充分理解本协议，并征得法定监护人的同意后使用“极客动漫网”软件及相关服务。如你不同意本协议，这将导致我们无法为你提供完整的产品和服务，你也可以选择停止使用。如你自主选择同意或使用“极客动漫网”软件及相关服务，则视为你已充分理解本协议，并同意作为本协议的一方当事人接受本协议以及其他与“极客动漫网”软件及相关服务相关的协议和规则（包括但不限于《极客动漫网隐私政策》）的约束。",
         childs: [
           {
             childTitle: "2、 “极客动漫网”软件及相关服务",
             childContent: [
-              {item: "2.1 你使用“极客动漫网”软件及相关服务，可以通过预装、公司已授权的第三方下载等方式获取“极客动漫网”客户端应用程序或访问anzhuoshangdian.com网站。若你并非从公司或经公司授权的第三方获取本软件的，公司无法保证非官方版本的“极客动漫网”软件能够正常使用，你因此遭受的损失与公司无关。", son: []},
+              {item: "2.1 你使用“极客动漫网”软件及相关服务，可以通过预装、公司已授权的第三方下载等方式获取“极客动漫网”客户端应用程序或访问jkdmwh.com网站。若你并非从公司或经公司授权的第三方获取本软件的，公司无法保证非官方版本的“极客动漫网”软件能够正常使用，你因此遭受的损失与公司无关。", son: []},
               {item: "2.2 公司可能为不同的终端设备开发不同的应用程序软件版本，你应当根据实际设备状况获取、下载、安装合适的版本。如你不再使用“极客动漫网”软件及相关服务，你也可自行卸载相应的应用程序软件。", son: []},
               {item: "2.3 为更好的提升用户体验及服务，公司将不定期提供“极客动漫网”软件及相关服务的更新或改变（包括但不限于软件修改、升级、功能强化、开发新服务、软件替换等），你可根据需要自行选择是否更新相应的版本。为保证“极客动漫网”软件及相关服务安全、提升用户服务，在“极客动漫网”软件及相关服务的部分或全部更新后，公司将在可行的情况下以妥当的方式（包括但不限于系统提示、公告、站内信等）提示你，你有权选择接受更新后的版本；如你选择不作更新，“极客动漫网”软件及相关服务的部分功能将受到限制或不能正常使用。", son: []},
               {item: "2.4 除非得到公司事先书面授权，你不得以任何形式对“极客动漫网”软件及相关服务进行包括但不限于改编、复制、传播、垂直搜索、镜像或交易等未经授权的访问或使用。", son: []},
@@ -300,7 +300,7 @@
           adress: "北京市朝阳区王四营官庄大队唐家坟村(北京王府井百货(集团)股份有限公司仓库)11幢2层1123",
           number: "010-65288428",
           email: "aiyu.zhang@accu-tag.com",
-          content: "北京极客梦想科技有限公司（下称“极客动漫网”）经营极客动漫网网站（anzhuoshangdian.com）及其相关软件、客户端。前述平台中包含众多用户上传的信息、第三方发布的信息、频道管理者发布的信息、以及其他来自互联网的信息。极客动漫网为保护著作权人的合法权利，根据我国相关法律法规的规定，将通过以下途径保护极客动漫网经营的网站内作品的著作权：“作品”是指受《中华人民共和国著作权法》保护的文学、艺术和科学作品，包括但不限于文字作品、美术作品、表演、录音录像制品等。“权利人”是指作品的著作权人或者经著作权人合法授权而享有作品的信息网络传播权的权利享有人。",
+          content: "北京极客梦想科技有限公司（下称“极客动漫网”）经营极客动漫网网站（jkdmwh.com）及其相关软件、客户端。前述平台中包含众多用户上传的信息、第三方发布的信息、频道管理者发布的信息、以及其他来自互联网的信息。极客动漫网为保护著作权人的合法权利，根据我国相关法律法规的规定，将通过以下途径保护极客动漫网经营的网站内作品的著作权：“作品”是指受《中华人民共和国著作权法》保护的文学、艺术和科学作品，包括但不限于文字作品、美术作品、表演、录音录像制品等。“权利人”是指作品的著作权人或者经著作权人合法授权而享有作品的信息网络传播权的权利享有人。",
           subtitile: "通知程序",
           subcontent: "权利人认为极客动漫网经营的网站中相关信息、搜索或链接的内容所涉及的作品侵犯了其信息网络传播权或者被删除、改变了自己的权利管理电子信息的，可向极客动漫网提交书面通知，要求删除该作品，或者断开该作品的链接。通知书需权利人亲笔签名，若为单位则需加盖单位公章。",
           listtitle: "通知书应当包含下列内容：",
@@ -315,7 +315,7 @@
         }
       ],
       tabPosition: "left",
-      activeName: ""
+      activeName: "aboutus"
     }
   },
   computed: {
@@ -327,6 +327,9 @@
         this.$store.state.aboutusItem = newValue;
       }
     }
+  },
+  mounted() {
+    this.$store.commit("menuPath", '/aboutus');
   }
 };
 </script>
@@ -335,11 +338,18 @@
 .content
   display: flex
   justify-content: center
-  margin: 40px 0
+  padding: 40px 0
+  background: #eee
   .left-menu
     min-height: 1000px
     width: 1000px
 
+.compcontent
+  font-weight: 800;
+
+.el-tabs--border-card
+  margin: 10px 20px
+
 .childTitle
   float: left
   margin: 10px
@@ -349,7 +359,7 @@
 
 .subTitle
   font-size: 20px
-  margin: 18px
+  margin-bottom: 18px
   font-weight: 800
   float: left
 .subContent
Index: src/views/comic/comic.vue
===================================================================
--- src/views/comic/comic.vue	(revision 38454)
+++ src/views/comic/comic.vue	(working copy)
@@ -1,23 +1,26 @@
 <template>
   <div class="content">
     <div class="wrapper">
-      <el-card class="box-card" v-for="item in dataList" :key="item.id">
-       <div slot="header" class="clearfix">
-         <span>{{item.content}}</span> | 
-         <span>{{item.title}}</span>
-         <span></span>
+      <div class="box-card" v-for="item in dataList" :key="item.id">
+       <div slot="header" class="titleWrap">
+         <span class="title">{{item.title}}</span>
+         <!-- <span class="subtitle">{{item.content}}</span> -->
          <div class="right">
            <span>{{item.cartoon_info.length}}个表情</span>
          </div>
        </div>
-       <div v-for="child in item.cartoon_info" :key="child.id" class="text item">
-        <el-image :src="child.picture" :alt="item.title"></el-image>
-          <div class="bottom clearfix">
-            <p class="title">{{child.title}}</p>
-            <el-button class="downLoad" @click="downLoadImg(child)" type="text">下载</el-button>
-          </div>
+
+       <div class="imgItems">
+         <el-card shadow="hover" v-for="child in item.cartoon_info" :key="child.id" class="imgItem">
+            <img :src="child.picture" :alt="child.title" lazy @click="goToDetail(item.id, child)" class="img">
+            </img>
+            <div class="bottom clearfix">
+              <span :class="child.purchase ?'isDownLoad' : ''"><strong>{{child.price}}</strong> 金币</span>
+              <el-button class="downLoad" @click="downLoadImg(child)" type="text">{{child.downLoadText}}</el-button>
+            </div>
+          </el-card>
        </div>
-     </el-card>
+     </div>
     </div>
     <v-page :pageInfo="pageInfo" @changePage="changePage"></v-page>
   </div>
@@ -33,11 +36,12 @@
     return {
       isLogin: false,
       integral: 0,
-      pageInfo:{page: 1, limit: 10, count: 0},
+      pageInfo:{page: 1, limit: 2, count: 0},
       dataList: [],
     }
   },
   mounted() {
+    this.$store.commit("menuPath", '/comic');
     this.userInfo();
     this.getDataList();
   },
@@ -54,6 +58,16 @@
           console.log("res:", res);
           this.dataList = res.data;
           this.pageInfo.count = res.count;
+          this.dataList.forEach(item => {
+            item.cartoon_info.forEach(idx => {
+              // idx.picture = 'http://192.168.20.132:8101/'+idx.picture
+              if (idx.purchase) {
+                idx.downLoadText = '已下载'
+              } else {
+                idx.downLoadText = '下载'
+              }
+            })
+          })
         }
       }).catch(err => {
         this.$message({message: err.message, type: "error", showClose: true});
@@ -61,49 +75,60 @@
     },
     // 下载图片
     downLoadImg(img) {
-      // 先判断是否登录 -> 是否有积分 
+      // 先判断是否登录 -> 是否有金币 
       // 1. 如果尚未注册跳转到注册页面 
-      // 2. 如果注册但是账号里面没有积分，跳转到人民币兑换积分的界面
-      // 3. 如果注册登录且有积分进行下载
+      // 2. 如果注册但是账号里面没有金币，跳转到人民币兑换金币的界面
+      // 3. 如果注册登录且有金币进行下载
       console.log("img:",img);
-      if (this.beforeDownLoad()) {
-        // 下载并扣除积分
-        if (this.integral < img.weight) {
-          this.$message({ showClose: true, message: "你的账户积分不足,正跳转至充值页面", duration:2000, type: 'warning', onClose:() =>{
+      if (!this.isLogin) {
+        this.$message({ showClose: true, message: "你还未登录,正跳转至登录页面", duration:2000, type: 'warning', onClose: () => {
+          this.$router.push('/login')
+        }});
+      } else if(img.purchase) {
+        downFlie(img.title, img.picture);
+      } else if(this.integral*100 <= 0  && !img.purchase) {
+        this.$message({ showClose: true, message: "你的账户暂无金币,正跳转至充值页面", duration:2000, type: 'warning', onClose: () => {
+          this.$router.push('/recharge')
+        }});
+      } else {
+        this.buyInfo(img);
+      }
+    },
+    changePage:function(pageInfo) {
+      this.pageInfo = pageInfo;
+      this.getDataList();
+    },
+    buyInfo(img) {
+      this.$confirm(`购买此图片需花费${img.price}金币`, '购买提示', {
+        confirmButtonText: '确定',
+        cancelButtonText: '取消'
+      }).then(() => {
+        // 下载并扣除金币
+        if (this.integral < img.price) {
+          this.$message({ showClose: true, message: "你的账户金币不足,正跳转至充值页面", duration:2000, type: 'warning', onClose: () => {
             this.$router.push('/recharge');
           }});
           return;
         }
-        this.integral -= img.weight;
-        this.setIntegral(img.weight);
+        this.integral -= img.price;
+        this.setIntegral(img.id);
+        console.log("img:", img);
         this.$store.commit('changeIntegral', this.integral);
         console.log("this.integral:",this.integral);
         downFlie(img.title, img.picture);
-      }
+        this.getDataList();
+      }).catch(() => {
+        this.$message({
+          type: 'info',
+          message: '已取消购买',
+          duration:2000,
+          showClose: true
+        });
+      });
     },
-    changePage:function(pageInfo) {
-      this.pageInfo = pageInfo;
-      this.getDataList();
-    },
-    // 点击现在图片之前进行判断
-    beforeDownLoad() {
-      let flog = false;
-      if (!this.isLogin) {
-        this.$message({ showClose: true, message: "你还未登录,正跳转至登录页面", duration:2000, type: 'warning', onClose: () => {
-          this.$router.push('/login');
-        }});
-      } else if(this.integral*100 <= 0){
-        this.$message({ showClose: true, message: "你的账户暂无积分,正跳转至充值页面", duration:2000, type: 'warning', onClose: () => {
-          this.$router.push('/recharge');
-        }});
-      } else {
-        flog = true
-      }
-      return flog;
-    },
-    setIntegral(info) {
-      let data = `?integral=${info}`;
-      setIntegral(data).then(res=>{
+    // 消耗积分
+    setIntegral(id) {
+      setIntegral(id).then(res=>{
         if(res.code == 1) {
           this.$message({ showClose: true, message: "下载成功", duration:2000, type: 'success'});
         }
@@ -110,6 +135,10 @@
       }).catch(err => {
         this.$message({message: err.message, type: "error", showClose: true});
       })
+    },
+    goToDetail(item, info) {
+      let id =  `${item}?cartoon_info_id=${info.id}`
+      this.$router.push('/imgDetail/'+id)
     }
   },
   components: {
@@ -129,56 +158,69 @@
 }
 
 .content
-  margin: 40px 0
+  padding: 20px 0
   min-height: 900px
+  background: #eee
 
+.wrapper
+  display: flex;
+  flex-direction: column;
+  align-items: center;
 
-.wrapper >>>
-  display: flex
-  justify-content: center
-  flex-direction: column
-  align-items: center
-  .el-card.is-always-shadow
-    width: 800px
-    margin-bottom: 10px
-    padding: 0
-    &:hover
-      cursor: pointer
-      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5)
-    .el-card__body
-      display: flex
-      flex-wrap: wrap
-      justify-content: space-between
+.box-card
+  margin: 40px 20px
+  display: flex;
+  flex-direction: column;
+  justify-content: center;
+  align-items: center;
+  max-width: 1236px
 
-.el-image
-  width: 145px
-  height: 145px
-  padding: 10px
-  border-radius: 2px
-  &:hover
-    box-shadow: 0 2px 4px rgba(0,0,0,0.5)
+.imgItems
+  display: flex;
+  flex-wrap: wrap;
 
+.el-card
+  margin: 4px
+
+.el-card >>> .el-card__body
+  padding: 18px;
+  width: 190px;
+  // height: 200px;
+  box-sizing: border-box;
+
+
+.img
+  height: 140px;
+  border-radius: 2px;
+  cursor: pointer;
+  margin: 0 -100%;
+
 .right
-  font-size: 14px
-  color: #666
-  display: flex
-  align-items: center
+  margin: 10px 0;
+  line-height: 40px;
+  height: 40px;
   span
-    margin-right: 10px
-  .downLoad
-    padding: 3px 0
+    display: block;
+    margin: 0 auto;
 
+.titleWrap
+  .title
+    font-weight: 800
+    font-size: 20px
+  .subtitle
+    font-weight: 800
+    font-size: 18px
 
+.downLoad
+  margin-left: 10px;
 
 .bottom
   display: flex
   align-items: center
-  .title
-    font-size: 13px
-    color: #999
-    width: 124px
-    white-space: nowrap
-    text-overflow: ellipsis
-    overflow: hidden
+  justify-content: space-around
 
+.isDownLoad
+  text-decoration: line-through;
+  color: #aaa;
+
 </style>
Index: src/views/imgDetail.vue
===================================================================
--- src/views/imgDetail.vue	(nonexistent)
+++ src/views/imgDetail.vue	(working copy)
@@ -0,0 +1,215 @@
+<template>
+  <div class="content">
+   <el-card shadow="hover" class="imgItem">
+    <div slot="header" class="clearfix">
+      <span class="maintitle">{{imgData.title}} - 详情</span>
+    </div>
+    <img :src="imgData.picture" class="image">
+    </img>
+    <div class="mainInfo">
+      <span>{{imgData.itemTitle}}</span>
+      <span :class="imgData.purchase ?'isDownLoad' : ''"><strong>{{imgData.price}}</strong> 金币</span>
+    </div>
+    <div class="bottom clearfix">
+      <div class="time">{{imgData.create_time}}</div>
+      <el-button type="text" class="button" @click="downLoadImg(imgData)">{{downLoadText}}</el-button>
+    </div>
+  </el-card>
+  </div>
+</template>
+
+<script>
+import { getCartoonInfo, setIntegral } from "../request/api.js";
+import { downFlie } from "../utils/tool.js";
+export default {
+  name: "imgDetail",
+  data() {
+    return {
+      isLogin: false,
+      imgData: {
+        price: 0,
+        create_time: '',
+        itemTitle: '',
+        title: '',
+        picture: '',
+      },
+      downLoadText: '下载'
+    }
+  },
+  mounted() {
+    let id = this.$route.params.id
+    let cartoon_info_id = this.$route.query.cartoon_info_id
+    let search = `${id}?cartoon_info_id=${cartoon_info_id}`
+    console.log("search:", search);
+    this.getData(search);
+    this.userInfo()
+  },
+  methods: {
+    userInfo() {
+      this.isLogin = this.$store.state.isLogin
+      this.integral = this.$store.state.integral
+    },
+    getData(id) {
+      getCartoonInfo(id).then(res=>{
+        if(res.code == 1){
+          console.log("res:", res);
+          this.imgData = res.data.cartoon_info[0]
+          // this.imgData.picture = 'http://192.168.20.132:8101/' + res.data.cartoon_info[0].picture
+          this.imgData.create_time = res.data.create_time
+          this.imgData.itemTitle = res.data.title
+          if (this.imgData.purchase) {
+            this.downLoadText = '已下载(可免费下载)'
+          }
+          this.imgData.isDownload = false
+        }
+      }).catch(err => {
+        this.$message({ showClose: true,message: err.message,duration:2000,type: "error"})
+      });
+    },
+    downLoadImg(img) {
+      console.log("img:", img);
+      if (!this.isLogin) {
+        this.$message({ showClose: true, message: "你还未登录,正跳转至登录页面", duration:2000, type: 'warning', onClose: () => {
+          this.$router.push('/login')
+        }});
+      } else if(img.purchase) {
+        downFlie(img.title, img.picture);
+      } else if(this.integral*100 <= 0  && !img.purchase) {
+        this.$message({ showClose: true, message: "你的账户暂无金币,正跳转至充值页面", duration:2000, type: 'warning', onClose: () => {
+          this.$router.push('/recharge')
+        }});
+      } else {
+        this.buyInfo(img);
+      }
+    },
+    buyInfo(img) {
+      this.$confirm(`购买此图片需花费${img.price}金币`, '购买提示', {
+        confirmButtonText: '确定',
+        cancelButtonText: '取消'
+      }).then(() => {
+        // 下载并扣除金币
+        if (this.integral < img.price) {
+          this.$message({ showClose: true, message: "你的账户金币不足,正跳转至充值页面", duration:2000, type: 'warning', onClose: () => {
+            this.$router.push('/recharge');
+          }});
+          return;
+        }
+        this.integral -= img.price;
+        this.setIntegral(img.id);
+        console.log("img:", img);
+        this.$store.commit('changeIntegral', this.integral);
+        downFlie(img.title, img.picture);
+        let id = this.$route.params.id
+        let search = `${id}?cartoon_info_id=${img.id}`
+        this.getData(search);
+        return;
+      }).catch(() => {
+        this.$message({
+          type: 'info',
+          message: '已取消购买',
+          duration:2000,
+          showClose: true
+        });
+      });
+    },
+    setIntegral(id) {
+      setIntegral(id).then(res=>{
+        if(res.code == 1) {
+          this.$message({ showClose: true, message: "下载成功", duration:2000, type: 'success'});
+        }
+      }).catch(err => {
+        this.$message({message: err.message, type: "error", showClose: true});
+      })
+    }
+  }
+};
+</script>
+
+<style lang="stylus" scoped>
+.content
+  min-height: 800px
+  padding: 40px 0
+  display: flex;
+  justify-content: center;
+  background: #eee
+  .el-card
+    margin: 10px 20px
+    width: 100%
+
+.el-card__body >>> 
+  display: flex;
+  justify-content: center;
+  align-items: center;
+  flex-direction: column;
+
+
+
+.maintitle
+  font-size: 20px;
+  font-weight: 800;
+
+.imgInfo
+  text-align: center;
+  display: flex;
+  flex-direction: column;
+  align-items: center;
+
+
+
+.isDownLoad
+  text-decoration: line-through;
+  color: #aaa;
+
+.time {
+  font-size: 13px;
+  color: #999;
+  float: left;
+}
+
+.bottom {
+  width: 400px;
+  height: 40px;
+  line-height: 40px
+  margin: 0 auto;
+}
+
+.mainInfo
+  display: flex;
+  justify-content: space-between;
+  width: 400px;
+  padding-top: 30px
+  padding-bottom: 10px
+  margin: 0 auto;
+  span:nth-child(1)
+    font-size: 18px
+
+.bottom span {
+  float: left;
+}
+
+.button {
+  padding: 0;
+  float: right;
+  line-height: 40px;
+}
+
+.image {
+  width: 400px;
+  display: block;
+  margin: 0 auto;
+  border: 1px solid #eee;
+  border-radius: 4px;
+  background:#eee
+}
+
+.clearfix:before,
+.clearfix:after {
+    display: table;
+    content: "";
+}
+
+.clearfix:after {
+    clear: both
+}
+
+</style>
Index: src/views/orderList.vue
===================================================================
--- src/views/orderList.vue	(nonexistent)
+++ src/views/orderList.vue	(working copy)
@@ -0,0 +1,53 @@
+<template>
+  <div>
+    <VTable :tableHead="tableHead" :tableData="tableData"></VTable>
+    <v-page :pageInfo="pageInfo" @changePage="changePage"></v-page>
+  </div>
+</template>
+
+<script>
+import VTable from './../components/table.vue';
+import VPage from './../components/Page.vue';
+import { getIntegralList } from "../request/api.js";
+export default {
+  name: "PayList",
+  data() {
+    return {
+      pageInfo:{page:1,limit:10,count:0},
+      tableData: [],
+      tableHead: [
+        { id:1, prop:"id", label:"ID", width:"60"},
+        { id:2, prop:"order_num", label:"订单号", width:"200"},
+        { id:3, prop:"cartoon_info.price", label:"消耗金币", width:"auto"},
+        { id:4, prop:"cartoon_info.title", label:"图片名称", width:"auto"},
+        { id:5, prop:"money", label:"剩余金币", width:"auto", type: "number"},
+        { id:6, prop:"create_time", label:"创建时间", width:"160"},
+      ],
+    }
+  },
+  mounted() {
+    this.getDataList();
+  },
+  methods: {
+    getDataList() {
+      let search = `?p=${this.pageInfo.page}&limit=${this.pageInfo.limit}`
+      getIntegralList(search).then(res=>{
+        if(res.code == 1){
+          this.tableData = res.data
+          this.pageInfo.count = res.count;
+        }
+      }).catch(err => {
+        this.$message({ showClose: true,message: err.message,duration:2000,type: "error"})
+      });
+    },
+    changePage:function(pageInfo){
+      this.pageInfo = pageInfo;
+      this.getDataList();
+    },
+  },
+  components: {
+    VTable,
+    VPage
+  }
+};
+</script>
Index: src/views/payList.vue
===================================================================
--- src/views/payList.vue	(nonexistent)
+++ src/views/payList.vue	(working copy)
@@ -0,0 +1,56 @@
+<template>
+  <div>
+    <VTable :tableHead="tableHead" :tableData="tableData"></VTable>
+    <v-page :pageInfo="pageInfo" @changePage="changePage"></v-page>
+  </div>
+</template>
+
+<script>
+import VTable from './../components/table.vue';
+import VPage from './../components/Page.vue';
+import { getOrderList } from "../request/api.js";
+export default {
+  name: "OrderList",
+  data() {
+    return {
+      pageInfo:{page:1,limit:10,count:0},
+      tableData: [],
+      tableHead: [
+        { id:1, prop:"id", label:"ID", width:"60"},
+        { id:2, prop:"money", label:"充值金额", width:"100"},
+        { id:3, prop:"pay_type_name", label:"支付方式", width:"auto"},
+        { id:4, prop:"front_gold", label:"充值前金币", width:"auto", type: "number"},
+        { id:5, prop:"after_gold", label:"充值后金币", width:"auto", type: "number"},
+        { id:6, prop:"create_time", label:"创建时间", width:"160"},
+      ],
+    }
+  },
+  mounted() {
+    this.getDataList();
+  },
+  methods: {
+    getDataList() {
+      let search = `?p=${this.pageInfo.page}&limit=${this.pageInfo.limit}`
+      getOrderList(search).then(res=>{
+        if(res.code == 1){
+          this.tableData = JSON.parse(JSON.stringify(res.data))
+          this.tableData.forEach(item => {
+            item.pay_type_name = ['', '支付宝', '微信'][item.pay_type]
+          })
+          this.pageInfo.count = res.count;
+        }
+      }).catch(err => {
+        this.$message({ showClose: true,message: err.message,duration:2000,type: "error"})
+      });
+    },
+    changePage:function(pageInfo){
+      this.pageInfo = pageInfo;
+      this.getDataList();
+    },
+  },
+  components: {
+    VTable,
+    VPage
+  }
+};
+</script>
Index: src/views/recharge.vue
===================================================================
--- src/views/recharge.vue	(revision 38454)
+++ src/views/recharge.vue	(working copy)
@@ -1,15 +1,48 @@
 <template>
   <div class="content">
-    <div class="recharge-wrap">
+    <el-card class="box-card" >
+      <div slot="header" class="clearfix">
+        <h3>充值</h3>
+      </div>
+      <div class="subTitle">
+        <div class="subinfo">账户余额</div>
+        <div class="submoney"><strong>{{nowMoney}}</strong> 金币</div>
+      </div>
+      <div class="rechargeWrap">
+        <div class="rulesInfo">
+          <span>1元人民币 = 100金币</span>
+        </div>
+        <div class="paymoneyItems">
+          <div class="item" :class="{'active': select == item.value}" v-for="item in money" @click="selectPayMoney(item)" ref="item">
+            <span class="name">{{item.name}}金币</span>
+            <span>{{item.title}}</span>
+          </div>
+        </div>
+      </div>
+      <div class="payStyle">
+        <div class="rulesInfo"><span>选择支付方式</span></div>
+        <div class="payList">
+          <div class="payItem">
+            <img src="../assets/weixin.jpg" alt="微信支付">
+            <div class="desc">微信支付</div>
+            <el-radio v-model="payType" label="1">微信支付</el-radio>
+          </div>
+          <div class="payItem">
+            <img src="../assets/zhifubao.jpg" alt="支付宝支付">
+            <div class="desc">支付宝支付</div>
+            <el-radio v-model="payType" label="2">支付宝支付</el-radio>
+          </div>
+        </div>
+      </div>
+      <el-button @click="payMoney">立即充值</el-button>
+    </el-card>
+
+    <div class="recharge-wrap" v-if="payImg">
       <div class="img-content">
         <div class="item">
-          <div class="item-title">支付宝支付</div>
-          <img src="../assets/pay.jpg" alt="">
+          <img src="../assets/pay.jpg" alt="微信支付" v-if="payType == 1">
+          <img src="../assets/zfb.jpg" alt="支付宝支付" v-else>
         </div>
-        <div class="item">
-          <div class="item-title">微信支付</div>
-          <img src="../assets/pay.jpg" alt="">
-        </div>
       </div>
       <div class="tips">
         支付成功之后请截图联系客服人员
@@ -24,8 +57,34 @@
   name: "Recharge",
   data() {
     return {
-
+      payType: "1",
+      select: "1",
+      payImg: false,
+      money: [
+        {id: 1, name: 100, title: '需支付1元', value: 1},
+        {id: 2, name: 500, title: '需支付5元', value: 5},
+        {id: 3, name: 1000, title: '需支付10元', value: 10},
+        {id: 4, name: 5000, title: '需支付50元', value: 50},
+        {id: 5, name: 10000, title: '需支付100元', value: 100}
+      ]
     }
+  },
+  computed: {
+    nowMoney() {
+      return this.$store.state.integral
+    }
+  },
+  methods: {
+    selectPayMoney(item) {
+      console.log("item:", item);
+      this.select = item.value
+    },
+    payMoney() {
+      let data = {}
+      data.pay_type = this.payType
+      data.type = this.select
+      this.payImg = !this.payImg
+    }
   }
 };
 </script>
@@ -32,24 +91,101 @@
 
 <style lang="stylus" scoped>
 .content
-  min-height: 900px
-  .recharge-wrap
-    margin: 20px
-    .img-content
-      display: flex;
-      justify-content: space-around
-      .item
-        .item-title
-          margin: 10px 0
-          font-size: 20px
-          font-weight: 800
+  display: flex;
+  justify-content: center;
+  padding: 40px 0;
+  min-height: 800px
+  background: #eee
 
-img
-  width: 300px
+
+.box-card
+  width: 800px
+  width: 100%
+  margin: 10px 20px
+  .clearfix
+    h3
+      font-size: 24px
+
+.subTitle
+  display: flex;
+  justify-content: space-between;
+  font-size: 20px;
+  color: #666;
+  line-height: 24px;
+  border-bottom: 1px solid #eee;
+  padding-bottom: 10px;
+
+.rulesInfo
+  width: 100%;
+  height: 40px;
+  background: #eee;
+  span
+    font-size: 18px
+    color: #888;
+    line-height: 40px;
+    float: left;
+
+.paymoneyItems
+  display: flex;
+  flex-wrap: wrap;
+  justify-content: space-between;
+  margin: 20px 10px;
+  .item
+    width: 100px
+    height: 80px
+    background: #f7f6f9
+    color: #aaa
+    display: flex;
+    flex-direction: column;
+    margin-bottom: 10px
+    border-radius: 4px
+    cursor: pointer
+    .name
+      font-size: 18px;
+      font-weight: 800;
+      padding: 14px 0;
+
+.paymoneyItems .active
+  color: #fff;
+  background: #02c294;
+  box-shadow: 0 2px 3px #019c77
+
+.payList
+  display: flex;
+  flex-direction: column;
+  margin:  30px 0
+  .payItem
+    display: flex;
+    align-items: center;
+    justify-content: space-evenly;
+    line-height: 40px;
+    margin: 10px 0;
+    img
+      width: 40px
+      height: 40px
+      box-shadow: none
+    .desc
+      font-size: 18px
+      color: #444
+
+
+
+
+.recharge-wrap
+  position: absolute;
+  background: #fff;
+  z-index: 999;
+  padding-top: 20px;
+  margin-top: 20px;
+  box-shadow: 0 2px 4px rgba(0,0,0,0.2);
+
+
+.recharge-wrap img
+  width: 240px
   border-radius: 4px;
-  box-shadow: 0 2px 4px rgba(0,0,0,0.2)
 
 .tips
   margin: 20px
   font-size: 18px
+  color: #666
 </style>
